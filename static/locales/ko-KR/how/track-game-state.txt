게임 상태를 추적하세요

대부분의 게임은 게임이 진행됨에 따라 여러 가지 사항을 추적합니다. 점수, 플레이어 위치, 기타 세부 정보가 모두 중요합니다.입력이 있을 때마다 상태가 바뀌고, 그에 대한 응답으로 새로운 출력을 표시하고 싶습니다.

모든 게임의 일반적인 패턴은 세 가지로 구성됩니다.

• 게임 상태 데이터 구조를 정의하여 모든 게임 상태를 저장합니다.• 새로운 입력이 있을 때마다 이전 게임 상태를 기반으로 새로운 게임 상태를 만드는 반응을 정의합니다.• 만들어보세요 @Stage  와 함께  @Group  그리고  @Phrase 게임 상태를 보여주기 위해

예를 들어, 텍스트 상자에 비밀 단어를 입력하고 비밀 단어를 맞힐 때마다 점수를 얻는 간단한 게임을 상상해 보겠습니다.

\•Game(secrets•[''] points•#)
state: Game(['고양이' '개'] 0) … state.secrets.has(Chat()) … state.points:state.points + 1
Stage(state.points = state.secrets.length() ? [Phrase("당신이 이겼어요!")] [
			Group(Stack() [
					Phrase("내 비밀 단어를 맞춰봐")
					Phrase(`\state.secrets.length() - state.points\더 많은 비밀`)
				])
		])\

이것을 자세히 살펴보겠습니다.

• 첫 번째 줄,\•Game(secrets•[''] points•#)\말한다,/라는 데이터 구조를 만듭니다.\Game\비밀과 포인트 목록을 저장하는/• 두 번째 줄에는 다음과 같이 나와 있습니다./게임 상태는 비밀 목록과 0점으로 시작합니다.\Chat\변경 사항, 입력한 단어가 비밀 목록에 있는 경우 포인트가 1만큼 증가한 새로운 게임 상태를 만듭니다./.• 프로그램이 재평가될 때마다(\Chat\변경 사항)이 있는 경우 스테이지를 표시합니다. 점수가 비밀 개수와 같으면 승리 스테이지를 표시합니다. 그렇지 않으면 프롬프트와 남은 비밀 개수를 표시합니다.

이 예에는 몇 가지 문제가 있습니다.

• 비밀 단어를 여러 번 맞히면 더 많은 점수를 얻습니다! 게임 상태는 추측한 단어를 기억해야 할 수도 있으므로, 각 단어는 두 번만 계산됩니다.• 플레이어가 여러 단어를 입력하면 계산되나요?

더욱 정교한 게임 상태와 게임 업데이트가 이러한 경우를 처리하는 데 도움이 될 것입니다.

track-points